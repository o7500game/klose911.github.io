<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>信号</title>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Wu, Shanliang" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="css/main.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="proc_group.html"> UP </a>
 |
 <a accesskey="H" href="apue.html"> HOME </a>
</div><div id="content">
<h1 class="title">信号</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">基础概念</a>
<ul>
<li><a href="#sec-1-1">信号产生条件</a></li>
<li><a href="#sec-1-2">信号处理</a></li>
<li><a href="#sec-1-3">常见信号</a>
<ul>
<li><a href="#sec-1-3-1">core文件</a></li>
<li><a href="#sec-1-3-2">常用信号说明</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2">不可靠的信号机制</a></li>
</ul>
</div>
</div>
<p>
信号是软件中断，提供了一种处理异步事件的方法：例如终端用户键入中断键，则会通过信号机制停止一个程序
</p>

<p>
UNIX的早期版本，就已经有信号机制，但是这些系统所提供的信号模型并不可靠。信号可能被丢失，而且在执行临界区代码时，进程很难关闭所选择的信号。4.3BSD和SVR3对信号模型都作了更改，增加了可靠信号机制。但是这两种更改之间并不兼容。幸运的是POSIX.1对可靠信号例程进行了标准化
</p>

<p>
本章先对信号机制进行综述，并说明每种信号的一般用法。然后分析早期实现的问题，最后说明解决这些问题的方法
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">基础概念</h2>
<div class="outline-text-2" id="text-1">
<p>
每个信号都有一个名字，这些名字都以三个字符SIG开头。例如，SIGABRT是异常终止信号，当进程调用abort函数时产生这种信号。SIGALRM是闹钟信号，当由alarm函数设置的时间已经超过后产生此信号。SVR4和4.3+BSD均有31种不同的信号
</p>

<p>
在头文件&lt;signal.h&gt;中，这些信号都被定义为正整数(信号编号)。没有一个信号其编号为0，因为信号编号0有特殊的应用，POSIX.1将此种信号编号值称为空信号
</p>
</div>

<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">信号产生条件</h3>
<div class="outline-text-3" id="text-1-1">
<p>
很多条件可以产生一个信号：
</p>
<ul class="org-ul">
<li>当用户按某些特殊键时产生信号，在终端上按DELETE键通常产生中断信号(SIGINT)。这是停止一个已失去控制程序的方法
</li>
<li>硬件异常产生信号：除数为0、无效的存储访问等等。这些条件通常由硬件检测到，并将其通知内核，然后内核为该条件发生时正在运行的进程产生适当的信号。例如，对执行一个无效存储访问的进程产生一个SIGSEGV
</li>
<li>进程用kill(2)系统调用可将信号发送给另一个进程或进程组。自然有些限制：接收信号进程和发送信号进程的所有者必须相同，或发送信号进程的所有者必须是超级用户
</li>
<li>用户可用kill(1)命令将信号发送给其他进程，这是是kill系统调用的命令，常用此命令终止一个失控的后台进程
</li>
<li>当检测到某种软件条件已经发生，并将其通知有关进程时也产生信号。这里并不是指硬件产生条件(如被0除)，而是软件条件。例如SIGURG(在网络连接上传来非规定波特率的数据)、SIGPIPE(在管道的读进程已终止后一个进程写此管道)，以及SIGALRM(进程所设置的闹钟时间已经超时)
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">信号处理</h3>
<div class="outline-text-3" id="text-1-2">
<p>
信号是异步事件的经典实例，产生信号的事件对进程而言是随机出现的，进程不能只是测试一个变量(例如errno)来判别是否发生了一个信号，而是必须告诉内核“在此信号发生时，请执行下列操作”。系统在某个信号出现时按照下列三种方式中的一种进行操作：
</p>
<ol class="org-ol">
<li>忽略此信号：大多数信号都可使用这种方式进行处理，但有两种信号却决不能被忽略，它们是SIGKILL和SIGSTOP。这两种信号不能被忽略的原因是为了向超级用户提供一种使进程终止或停止的可靠方法。另外如果忽略某些由硬件异常产生的信号(例如非法存储访问或除以0)，则进程的行为是未定义的
</li>
<li>捕捉信号：为了做到这一点要通知内核在某种信号发生时，调用一个用户函数。在用户函数中，可执行用户希望对这种事件进行的处理。例如，若编写一个命令解释器，当用户用键盘产生中断信号时，很可能希望返回到程序的主循环，终止系统正在为该用户执行的命令。如果捕捉到SIGCHLD信号，则表示子进程已经终止，所以此信号的捕捉函数可以调用waitpid以取得该子进程的进程ID以及它的终止状态。又例如，如果进程创建了临时文件，那么可能要为SIGTERM信号编写一个信号捕捉函数以清除临时文件(kill命令传送的系统默认信号是终止信号)
</li>
<li>执行系统默认动作：表10-1给出了对每一种信号的系统默认动作。注意，对大多数信号的系统默认动作是终止该进程
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3">常见信号</h3>
<div class="outline-text-3" id="text-1-3">
<p>
表10-1列出所有信号的名字，说明，以及对于信号的系统默认动作，作业表示这是作业控制信号(仅当支持作业控制时，才要求此种信号)：
</p>
<table border="1" cellspacing="0" cellpadding="6" rules="all" frame="boader">
<caption class="t-above"><span class="table-number">Table 1:</span> UNIX信号</caption>

<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">名字</td>
<td class="left">说明</td>
<td class="left">默认</td>
<td class="left">支持系统</td>
</tr>

<tr>
<td class="left">SIGABRT</td>
<td class="left">异常终止(abort)</td>
<td class="left">终止+core</td>
<td class="left">ANSIC + POSIX</td>
</tr>

<tr>
<td class="left">SIGALRM</td>
<td class="left">超时(alarm)</td>
<td class="left">终止</td>
<td class="left">POSIX</td>
</tr>

<tr>
<td class="left">SIGBUS</td>
<td class="left">硬件故障</td>
<td class="left">终止+core</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">SIGCHLD</td>
<td class="left">子进程状态改变</td>
<td class="left">忽略</td>
<td class="left">作业</td>
</tr>

<tr>
<td class="left">SIGCONT</td>
<td class="left">使得暂停进程继续</td>
<td class="left">继续/忽略</td>
<td class="left">作业</td>
</tr>

<tr>
<td class="left">SIGEMT</td>
<td class="left">硬件故障</td>
<td class="left">终止+core</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">SIGFPE</td>
<td class="left">算术异常</td>
<td class="left">终止+core</td>
<td class="left">ANSIC + POSIX</td>
</tr>

<tr>
<td class="left">SIGHUP</td>
<td class="left">链接断开</td>
<td class="left">终止</td>
<td class="left">POSIX</td>
</tr>

<tr>
<td class="left">SIGILL</td>
<td class="left">非法硬件指令</td>
<td class="left">终止+core</td>
<td class="left">ANSIC + POSIX</td>
</tr>

<tr>
<td class="left">SIGINT</td>
<td class="left">终端中断符</td>
<td class="left">终止</td>
<td class="left">ANSIC + POSIX</td>
</tr>

<tr>
<td class="left">SIGIO</td>
<td class="left">异步IO</td>
<td class="left">忽略/终止</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">SIGIOT</td>
<td class="left">硬件故障</td>
<td class="left">终止+core</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">SIGKILL</td>
<td class="left">终止</td>
<td class="left">终止</td>
<td class="left">POSIX</td>
</tr>

<tr>
<td class="left">SIGPIPE</td>
<td class="left">写入无读进程管道</td>
<td class="left">终止</td>
<td class="left">POSIX</td>
</tr>

<tr>
<td class="left">SIGPOLL</td>
<td class="left">可轮询事件</td>
<td class="left">终止</td>
<td class="left">SVR4</td>
</tr>

<tr>
<td class="left">SIGPROF</td>
<td class="left">profile时间超时</td>
<td class="left">终止</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">SIGPWR</td>
<td class="left">电源失效/重启</td>
<td class="left">忽略</td>
<td class="left">SVR4</td>
</tr>

<tr>
<td class="left">SIGQUIT</td>
<td class="left">终端退出符</td>
<td class="left">终止+core</td>
<td class="left">POSIX</td>
</tr>

<tr>
<td class="left">SIGSEGV</td>
<td class="left">无效内存引用</td>
<td class="left">终止+core</td>
<td class="left">ANSIC + POSIX</td>
</tr>

<tr>
<td class="left">SIGSTOP</td>
<td class="left">停止</td>
<td class="left">暂停</td>
<td class="left">作业</td>
</tr>

<tr>
<td class="left">SIGSYS</td>
<td class="left">无效系统调用</td>
<td class="left">终止+core</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">SIGTERM</td>
<td class="left">终止</td>
<td class="left">终止</td>
<td class="left">ANSIC + POSIX</td>
</tr>

<tr>
<td class="left">SIGTRAP</td>
<td class="left">硬件故障</td>
<td class="left">终止+core</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">SIGTSTP</td>
<td class="left">终端停止符</td>
<td class="left">暂停</td>
<td class="left">作业</td>
</tr>

<tr>
<td class="left">SIGTTIN</td>
<td class="left">后端读取tty</td>
<td class="left">暂停</td>
<td class="left">作业</td>
</tr>

<tr>
<td class="left">SIGTTOUT</td>
<td class="left">后端写tty</td>
<td class="left">暂停</td>
<td class="left">作业</td>
</tr>

<tr>
<td class="left">SIGURG</td>
<td class="left">紧急数据</td>
<td class="left">忽略</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">SIGUSR1</td>
<td class="left">用户自定义1</td>
<td class="left">终止</td>
<td class="left">POSIX</td>
</tr>

<tr>
<td class="left">SIGUSR2</td>
<td class="left">用户自定义2</td>
<td class="left">终止</td>
<td class="left">POSIX</td>
</tr>

<tr>
<td class="left">SIGVTALRM</td>
<td class="left">虚拟时间闹钟</td>
<td class="left">终止</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">SIGWINCH</td>
<td class="left">终端窗口大小变化</td>
<td class="left">忽略</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">SIGXCPU</td>
<td class="left">超过CPU限制</td>
<td class="left">终止+core/忽略</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">SIGXFSZ</td>
<td class="left">超过文件长度限制</td>
<td class="left">终止+core/忽略</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-1-3-1" class="outline-4">
<h4 id="sec-1-3-1">core文件</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
在系统默认动作列，“终止+core”表示在进程当前工作目录的core文件中复制了该进程的存储图像。大多数UNIX调试程序都使用core文件以检查进程在终止时的状态。在下列条件下不产生core文件: 
</p>
<ul class="org-ul">
<li>进程是设置-用户-ID，而且当前用户并非程序文件的所有者
</li>
<li>进程是设置-组-ID，而且当前用户并非该程序文件的组所有者
</li>
<li>用户没有写当前工作目录的许可权
</li>
<li>文件太大(RLIMIT_CORE)
</li>
</ul>

<p>
core文件的许可权通常是用户读/写，组读和其他读
</p>
</div>
</div>

<div id="outline-container-sec-1-3-2" class="outline-4">
<h4 id="sec-1-3-2">常用信号说明</h4>
<div class="outline-text-4" id="text-1-3-2">
<ul class="org-ul">
<li>SIGABRT：调用abort函数时产生此信号，进程异常终止
</li>
<li>SIGALRM：超过用alarm函数设置的时间时产生此信号，若由setitimer(2)函数设置的间隔时间已经过时，那么也产生此信号
</li>
<li>SIGBUS：一个实现定义的硬件故障
</li>
<li>SIGCHLD：在一个进程终止或停止时，SIGCHLD信号被送给其父进程。按系统默认，将忽略此信号。如果父进程希望了解其子进程的这种状态改变，则应捕捉此信号。信号捕捉函数中通常要调用wait函数以取得子进程ID和其终止状态
</li>
<li>SIGCONT：作业控制信号，送给需要继续运行的处于停止状态的进程。如果接收到此信号的进程处于停止状态，则系统默认动作是使该进程继续运行，否则默认动作是忽略此信号。例如vi编辑程序在捕捉到此信号后，重新绘制终端屏幕
</li>
<li>SIGEMT：一个实现定义的硬件故障
</li>
<li>SIGFPE：一个算术运算异常，例如除以0，浮点溢出等
</li>
<li>SIGHUP：如果终端界面检测到一个连接断开，则将此信号送给与该终端相关的控制进程。此信号被送给session结构中s_leader字段所指向的进程。仅当终端的CLOCAL标志没有设置时，在上述条件下才产生此信号
  注意：接到此信号的对话期首进程可能在后台，这区别于通常由终端产生的信号(中断、退出和挂起)，这些信号总是传递给前台进程组。如果对话期前进程终止，则也产生此信号。在这种情况，此信号送给前台进程组中的每一个进程

<p>
通常用此信号通知精灵进程以再读它们的配置文件。选用SIGHUP的理由是：因为一个精灵进程不会有一个控制终端，而且通常决不会接收到这种信号
</p>
</li>
<li>SIGILL：进程已执行一条非法硬件指令
</li>
<li>SIGINFO：一种4.3+BSD信号，当用户按状态键(一般采用Ctrl-T)时，终端驱动程序产生此信号并送至前台进程组中的每一个进程(见图9-8)。此信号通常造成在终端上显示前台进程组中各进程的状态信息
</li>
<li>SIGINT：当用户按中断键(一般采用DELETE或Ctrl-C)时，终端驱动程序产生此信号并送至前台进程组中的每一个进程。当一个进程在运行时失控，特别是它正在屏幕上产生大量不需要的输出时，常用此信号终止它
</li>
<li>SIGIO：一个异步I/O事件发生
</li>
<li>SIGIOT：一个实现定义的硬件故障
</li>
<li>SIGKILL：两个不能被捕捉或忽略信号中的一个，它向系统管理员提供了一种可以杀死任一进程的可靠方法
</li>
<li>SIGPIPE：如果在读进程已终止时写管道，则产生此信号，当套接口的一端已经终止时，若进程写该套接口也产生此信号
</li>
<li>SIGPOLL：SVR4信号，当在一个可轮询设备上发生一特定事件时产生此信号，它与4.3+BSD的SIGIO和SIGURG信号类似
</li>
<li>SIGPROF：当setitimer(2)函数设置的统计间隔时间已经超过时产生
</li>
<li>SIGPWR：SVR4信号，它依赖于系统。它主要用于具有不间断电源(UPS)的系统上
如果电源失效，则UPS起作用，而且通常软件会接到通知。在这种情况下，系统依靠蓄电池电源继续运行，所以无须作任何处理。但是如果蓄电池也将不能支持工作，则软件通常会再次接到通知，此时，它在15~30秒内使系统各部分都停止运行。此时应当传递SIGPWR信号。在大多数系统中使接到蓄电池电压过低的进程将信号SIGPWR发送给init进程，然后由init处理停机操作。很多系统init实现在inittab文件中提供了两个记录项用于此种目的：powerfail以及powerwait 
目前已能获得低价格的UPS系统，它用RS-232串行连接能够很容易地将蓄电池电压过低的条件通知系统，于是这种信号也就更加重要了
</li>
<li>SIGQUIT：当用户在终端上按退出键(一般采用Ctrl-\)时，产生此信号，并送至前台进程组中的所有进程。此信号不仅终止前台进程组(如SIGINT所做的那样)，同时产生一个core文件
</li>
<li>SIGSEGV：进程进行了一次无效的内存访问
</li>
<li>SIGSTOP：作业控制信号，它停止一个进程。它类似于交互停止信号(SIGTSTP)，两个不能被捕捉或忽略信号中的一个
</li>
<li>SIGSYS：一个无效的系统调用。由于某种未知原因，进程执行了一条系统调用指令，但其指示系统调用类型的参数却是无效的
</li>
<li>SIGTERM：由kill(1)命令发送的系统默认终止信号
</li>
<li>SIGTRAP：一个实现定义的硬件故障
</li>
<li>SIGTSTP：交互停止信号，当用户在终端上按挂起键(一般采用Ctrl-Z)时，终端驱动程序产生此信号
</li>
<li>SIGTTIN：当一个后台进程组进程试图读其控制终端时，终端驱动程序产生此信号。在下列例外情形下不产生此信号，此时读操作返回出错，errno设置为EIO：
<ol class="org-ol">
<li>读进程忽略或阻塞此信号
</li>
<li>读进程所属的进程组是孤儿进程组 
</li>
</ol>
</li>
<li>SIGTTOU：当一个后台进程组进程试图写其控制终端时产生此信号。与上面所述的SIGTTIN信号不同，一个进程可以选择为允许后台进程写控制终端。如果不允许后台进程写，在这两种情况下不产生此信号，写操作返回出错，errno设置为EIO：
<ol class="org-ol">
<li>写进程忽略或阻塞此信号
</li>
<li>写进程所属进程组是孤儿进程组
</li>
</ol>
</li>
</ul>

<p>
不论是否允许后台进程写，某些除写以外的下列终端操作也能产生此信号：tcsetattr，tcsendbreak，tcdrain，tcflush，tcflow以及tcsetpgrp
</p>
<ul class="org-ul">
<li>SIGURG：通知进程已经发生一个紧急情况。在网络连接上，接到非规定波特率的数据时，此信号可选择地产生
</li>
<li>SIGUSR1：一个用户定义的信号，可用于应用程序
</li>
<li>SIGUSR2：这是一个用户定义的信号，可用于应用程序
</li>
<li>SIGVTALRM：当一个由setitimer(2)函数设置的虚拟间隔时间已经超过时产生此信号
</li>
<li>SIGWINCH：SVR4和4.3+BSD内核保持与每个终端或伪终端相关联的窗口的大小，一个进程可以用ioctl函数得到或设置窗口的大小。如果一个进程用ioctl的设置-窗口-大小命令更改了窗口大小，则内核将SIGWINCH信号送至前台进程组
</li>
<li>SIGXCPUS：如果进程超过了其软CPU时间限制，则产生此信号
</li>
<li>SIGXFSZ：如果进程超过了其软文件长度限制，则产生此信号
</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">不可靠的信号机制</h2>
</div>
</div>
<div id="postamble" class="status">

     <br/>
    <div class='ds-thread'></div>
<script>
var duoshuoQuery = {short_name:'klose911'};
(function() {
	 var dsThread = document.getElementsByClassName('ds-thread')[0];
         dsThread.setAttribute('data-thread-key', document.title);
         dsThread.setAttribute('data-title', document.title);
         dsThread.setAttribute('data-url', window.location.href);
	 var ds = document.createElement('script');
	 ds.type = 'text/javascript';ds.async = true;
	 ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
	 ds.charset = 'UTF-8';
	 (document.getElementsByTagName('head')[0] 
				       || document.getElementsByTagName('body')[0]).appendChild(ds);
				       })();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-90850421-1', 'auto');
  ga('send', 'pageview');
</script>
</div>
</body>
</html>
